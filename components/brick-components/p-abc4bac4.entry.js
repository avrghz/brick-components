import{r as t,c as s,h as i,H as o,g as e}from"./p-d0f0745a.js";import"./p-1bc73443.js";import{u as l,i as a,t as r,l as h}from"./p-a1d378f1.js";const n=class{constructor(i){t(this,i),this.bkOpen=s(this,"bkOpen",3),this.bkOpened=s(this,"bkOpened",3),this.bkClose=s(this,"bkClose",3),this.bkClosed=s(this,"bkClosed",3),this.id=l(),this.uiState="close",this.duration=200,this.open=!1,this.disabled=!1,this.animateIn=()=>{this.open&&"close"===this.uiState&&(this.animate(!0,()=>{this.uiState="open",this.bkOpened.emit()}),this.bkOpen.emit())},this.animateOut=()=>{this.open||"open"!==this.uiState||(this.animate(!1,()=>{this.uiState="close",this.bkClosed.emit()}),this.bkClose.emit())},this.animate=(t,s)=>{let i=!1,o=1;if(this.tabPanelRef){const e=a(this.tabPanelRef);this.subscription=r(Object.assign(Object.assign({},t?{from:0,to:1}:{from:1,to:0}),{duration:this.duration,ease:h})).start({update:t=>{var s;i||(o=(null===(s=this.tabPanelRef)||void 0===s?void 0:s.clientHeight)||1,i=!0),e.set("opacity",t).set("position","relative").set("height",t*o)},complete:()=>{t&&e.set("height","auto"),s()}})}},this.onClickHandler=()=>this.open=!this.open,this.onKeydownHandler=t=>{"Enter"!==t.key&&" "!==t.key||(this.open=!this.open)}}componentDidLoad(){this.animateIn()}componentWillRender(){return new Promise(t=>{"open"!==this.uiState||this.open?t():setTimeout(t,this.duration)})}async componentWillUpdate(){this.animateOut()}componentDidUpdate(){this.animateIn()}disconnectedCallback(){this.subscription&&this.subscription.stop()}render(){return i(o,{class:{"bk-collapse-item":!0,"is-active":this.open,"is-disabled":this.disabled}},i("div",{role:"tab","aria-expanded":""+this.open,"aria-controls":"bk-collapse-content-"+this.id,"aria-describedby":"bk-collapse-content-"+this.id},i("div",{role:"button",id:"bk-collapse-head-"+this.id,tabIndex:0,class:{"bk-collapse-item__header":!0,focusing:this.open},onClick:this.onClickHandler,onKeyDown:this.onKeydownHandler},i("slot",{name:"header"}),i("i",{class:"bk-collapse-item__arrow",innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill="currentcolor" d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z" /></svg>'}))),this.open&&i("div",{role:"tabpanel","aria-labelledby":"bk-collapse-head-"+this.id,id:"bk-collapse-content-"+this.id,class:"bk-collapse-item__wrap",ref:t=>this.tabPanelRef=t},i("div",{class:"bk-collapse-item__content"},i("slot",{name:"content"}))))}};n.style=":host{display:block}.bk-collapse-item__header{display:flex;align-items:center;height:48px;line-height:48px;color:var(--color-text-primary);cursor:pointer;border-bottom:1px solid var(--border-color-light);font-size:13px;font-weight:500;transition:border-bottom-color 0.3s;outline:none}.bk-collapse-item__arrow{margin:0 8px 0 auto;transition:transform 0.3s;display:inline-block;width:10px}.bk-collapse-item__header:focus{color:var(--color-primary)}.bk-collapse-item__wrap{will-change:height;overflow:hidden;box-sizing:border-box;border-bottom:1px solid var(--border-color-light);opacity:0;position:absolute}.bk-collapse-item__content{padding-bottom:25px;font-size:13px;color:var(--color-text-primary);line-height:1.7692307692}.bk-collapse-item:last-child{margin-bottom:-1px}:host(.is-active) .bk-collapse-item__header{border-bottom-color:transparent}:host(.is-active) .bk-collapse-item__arrow{transform:rotate(90deg)}:host(.is-disabled){opacity:0.5;pointer-events:none}";const c=class{constructor(s){t(this,s),this.isAccordion=!0,this.getPanels=()=>this.el.querySelectorAll("bk-collapse"),this.registerEvent=(t=!0)=>{var s;null===(s=this.getPanels())||void 0===s||s.forEach(s=>{s[t?"addEventListener":"removeEventListener"]("bkOpen",this.onCollapseOpened)})},this.onCollapseOpened=t=>{var s;null===(s=this.getPanels())||void 0===s||s.forEach(s=>{t.target!==s&&s.setAttribute("open","false")})}}watchIsAccordion(){this.registerEvent(this.isAccordion)}componentWillLoad(){this.isAccordion&&this.registerEvent(!0)}disconnectedCallback(){this.registerEvent(!1)}render(){return i(o,{role:"tablist"},i("slot",null))}get el(){return e(this)}static get watchers(){return{isAccordion:["watchIsAccordion"]}}};c.style="bk-collapse-group.sc-bk-collapse-group{display:block;border-top:1px solid var(--border-color-light)}";export{n as bk_collapse,c as bk_collapse_group};