import{r as t,c as e,h as i,H as s,g as r}from"./p-035efb1b.js";import{K as o}from"./p-23b85818.js";import{c as n}from"./p-93ed5897.js";const l={capture:!0},d=class{constructor(s){t(this,s),this.bkChange=e(this,"bkChange",3),this.isMouseEvent=!0,this.previousValue=0,this.toolTipState=!1,this.value=0,this.step=1,this.variant="default",this.disabled=!1,this.showTooltip=!0,this.setDraggedValue=(t,e=!1)=>{const{width:i,x:s}=this.el.getBoundingClientRect(),r=Math.ceil(100*(t-s)/(i*this.step))*this.step;this.value=r>=0?r<=100?r:100:0,e&&this.emitEvent()},this.onDragAction=t=>{t.stopImmediatePropagation(),this.setDraggedValue(t instanceof MouseEvent?t.clientX:t.touches[0].clientX)},this.onDragStart=t=>{t.stopImmediatePropagation(),this.isMouseEvent=t instanceof MouseEvent,document.addEventListener(this.isMouseEvent?"mousemove":"touchmove",this.onDragAction,l),document.addEventListener(this.isMouseEvent?"mouseup":"touchend",this.onDragEnd,Object.assign(Object.assign({},l),{once:!0}))},this.onDragEnd=()=>{document.removeEventListener(this.isMouseEvent?"mousemove":"touchmove",this.onDragAction,l),this.emitEvent()},this.onBarClick=t=>{var e;this.setDraggedValue(t.clientX,!0),null===(e=this.dragHandle)||void 0===e||e.focus()},this.onHandleKeyDown=t=>{this.value<100&&(38===t.which||39===t.which)?this.value+=this.step:this.value>0&&(37===t.which||40===t.which)&&(this.value-=this.step)},this.onHandleKeyUp=t=>{38!==t.which&&39!==t.which&&37!==t.which&&40!==t.which||this.emitEvent()},this.onHandleClick=t=>{t.stopImmediatePropagation()},this.onHandleFocus=()=>this.toolTipState=!0,this.onHandleBlur=()=>this.toolTipState=!1,this.getButtonUI=t=>i("div",Object.assign({class:"bk-slider__button-inner"},t?{slot:t}:{}))}watchStep(){this.validateStep()}watchValue(t,e){this.previousValue=e}componentWillLoad(){this.validateStep(),this.previousValue=this.value}componentDidUnload(){document.removeEventListener(this.isMouseEvent?"mousemove":"touchmove",this.onDragAction,l),document.removeEventListener(this.isMouseEvent?"mouseup":"touchend",this.onDragEnd,l)}validateStep(){(!this.step||this.step<=0||this.step>100)&&(this.step=1,n("Slider","Invalid value provided for `step`"))}emitEvent(){this.previousValue!==this.value&&this.bkChange.emit(this.value)}render(){return i(s,{role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-value":this.value,"aria-label":"slider between 0 and 100"},i("div",Object.assign({class:`bk-slider bk-slider--${this.variant} ${this.disabled?"bk-slider--disabled":""}`},this.disabled?{}:{onClick:this.onBarClick}),i("div",{style:{width:this.value+"%"},class:"bk-slider__bar"}),i("div",Object.assign({style:{left:this.value+"%"},class:"bk-slider__button",tabIndex:0,ref:t=>this.dragHandle=t},this.disabled?{}:Object.assign({onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onKeyDown:this.onHandleKeyDown,onKeyUp:this.onHandleKeyUp,onClick:this.onHandleClick},this.showTooltip?{onFocus:this.onHandleFocus,onBlur:this.onHandleBlur}:{})),this.showTooltip?i("bk-popover",{show:this.toolTipState,placement:"top",triggerOn:"manual"},this.getButtonUI("control"),i("span",{slot:"content",class:"bk-slider__tooltip-content"},this.value)):this.getButtonUI())))}get el(){return r(this)}static get watchers(){return{step:["watchStep"],value:["watchValue"]}}};(function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);o>3&&n&&Object.defineProperty(e,i,n)})([o()],d.prototype,"el",void 0),d.style=':host{display:block;width:100%;font-size:14px}:host(.is-focus) .bk-slider__button:focus:not(:active){box-shadow:0 0 1px 1px #409eff inset}.bk-slider{width:100%;height:0.25em;margin:1em 0;background-color:#e4e7ed;border-radius:0.25em;position:relative;vertical-align:middle;opacity:0.5;pointer-events:none}.bk-slider__bar{height:0.25em;border-top-left-radius:0.125em;border-bottom-left-radius:0.125em;position:absolute;transition:width 0.2s linear}.bk-slider__button{height:2em;width:2em;position:absolute;z-index:1001;top:0.125em;left:0;transform:translate(-50%, -50%);background-color:transparent;text-align:center;user-select:none;line-height:normal;transition:left 0.2s linear;outline:none}.bk-slider__button::after{content:"";height:100%;display:inline-block;vertical-align:middle}.bk-slider__button-inner{width:1em;height:1em;background-color:#ffffff;border-radius:50%;transition:0.2s;user-select:none;display:inline-block;vertical-align:middle}.bk-slider__tooltip-content{white-space:nowrap}.bk-slider.bk-slider--info .bk-slider__bar{background-color:#909399}.bk-slider.bk-slider--info .bk-slider__button-inner{border:2px solid #909399}.bk-slider.bk-slider--danger .bk-slider__bar{background-color:#f56c6c}.bk-slider.bk-slider--danger .bk-slider__button-inner{border:2px solid #f56c6c}.bk-slider.bk-slider--warning .bk-slider__bar{background-color:#e6a23c}.bk-slider.bk-slider--warning .bk-slider__button-inner{border:2px solid #e6a23c}.bk-slider.bk-slider--success .bk-slider__bar{background-color:#67c23a}.bk-slider.bk-slider--success .bk-slider__button-inner{border:2px solid #67c23a}.bk-slider.bk-slider--default .bk-slider__bar{background-color:#409eff}.bk-slider.bk-slider--default .bk-slider__button-inner{border:2px solid #409eff}.bk-slider:not(.bk-slider--disabled){pointer-events:all;opacity:1;cursor:pointer}.bk-slider:not(.bk-slider--disabled) .bk-slider__button{cursor:grab}.bk-slider:not(.bk-slider--disabled) .bk-slider__button:hover .bk-slider__button-inner,.bk-slider:not(.bk-slider--disabled) .bk-slider__button:active .bk-slider__button-inner{transform:scale(1.2)}.bk-slider--disabled .bk-slider__button{outline:none}';export{d as bk_slider}