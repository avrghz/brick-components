import{r as t,c as i,h as e,H as s,g as r}from"./p-d1c7e21c.js";import{c as o}from"./p-93ed5897.js";const l={capture:!0},n=class{constructor(s){t(this,s),this.bkChange=i(this,"bkChange",7),this.isMouseEvent=!0,this.previousValue=0,this.toolTipState=!1,this.value=0,this.step=1,this.variant="default",this.disabled=!1,this.showTooltip=!0,this.setDraggedValue=(t,i=!1)=>{const{width:e,x:s}=this.el.getBoundingClientRect(),r=Math.ceil(100*(t-s)/(e*this.step))*this.step;this.value=r>=0?r<=100?r:100:0,i&&this.emitEvent()},this.onDragAction=t=>{t.stopImmediatePropagation(),this.setDraggedValue(t instanceof MouseEvent?t.clientX:t.touches[0].clientX)},this.onDragStart=t=>{t.stopImmediatePropagation(),this.isMouseEvent=t instanceof MouseEvent,this.toolTipState=this.showTooltip&&!0,document.addEventListener(this.isMouseEvent?"mousemove":"touchmove",this.onDragAction,l),document.addEventListener(this.isMouseEvent?"mouseup":"touchend",this.onDragEnd,Object.assign(Object.assign({},l),{once:!0}))},this.onDragEnd=()=>{this.toolTipState=!1,document.removeEventListener(this.isMouseEvent?"mousemove":"touchmove",this.onDragAction,l),this.emitEvent()},this.onBarClick=t=>{var i;this.setDraggedValue(t.clientX,!0),null===(i=this.dragHandle)||void 0===i||i.focus()},this.onHandleKeyDown=t=>{t.stopImmediatePropagation(),this.value<100&&(38===t.which||39===t.which)?this.value+=this.step:this.value>0&&(37===t.which||40===t.which)&&(this.value-=this.step)},this.onHandleKeyUp=t=>{38!==t.which&&39!==t.which&&37!==t.which&&40!==t.which||this.emitEvent()},this.onHandleClick=t=>{t.stopImmediatePropagation()},this.getButtonUI=t=>e("div",Object.assign({class:"bk-slider__button-inner"},t?{slot:t}:{}))}watchStep(){this.validateStep()}watchValue(t,i){this.previousValue=i}componentWillLoad(){this.validateStep(),this.previousValue=this.value}componentDidUnload(){document.removeEventListener(this.isMouseEvent?"mousemove":"touchmove",this.onDragAction,l),document.removeEventListener(this.isMouseEvent?"mouseup":"touchend",this.onDragEnd,l)}validateStep(){(!this.step||this.step<=0||this.step>100)&&(this.step=1,o("Slider","Invalid value provided for `step`"))}emitEvent(){this.previousValue!==this.value&&this.bkChange.emit(this.value)}render(){return e(s,{role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-value":this.value,"aria-label":"slider between 0 and 100"},e("div",Object.assign({class:`bk-slider bk-slider--${this.variant} ${this.disabled?"bk-slider--disabled":""}`},this.disabled?{}:{onClick:this.onBarClick}),e("div",{style:{width:this.value+"%"},class:"bk-slider__bar"}),e("div",Object.assign({style:{left:this.value+"%"},class:"bk-slider__button",tabIndex:0,ref:t=>this.dragHandle=t},this.disabled?{}:{onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onKeyDown:this.onHandleKeyDown,onKeyUp:this.onHandleKeyUp,onClick:this.onHandleClick}),this.showTooltip?e("bk-popover",{show:this.toolTipState,placement:"top"},this.getButtonUI("control"),e("span",{slot:"content",class:"bk-slider__tooltip-content"},this.value)):this.getButtonUI())))}get el(){return r(this)}static get watchers(){return{step:["watchStep"],value:["watchValue"]}}};n.style=':host{display:block;width:100%;font-size:14px}.bk-slider{width:100%;height:0.25em;margin:1em 0;background-color:#e4e7ed;border-radius:0.25em;position:relative;vertical-align:middle;opacity:0.5;pointer-events:none}.bk-slider__bar{height:0.25em;border-top-left-radius:0.125em;border-bottom-left-radius:0.125em;position:absolute;transition:width 0.2s linear}.bk-slider__button{height:2em;width:2em;position:absolute;z-index:1001;top:0.125em;left:0;transform:translate(-50%, -50%);background-color:transparent;text-align:center;user-select:none;line-height:normal;transition:left 0.2s linear}.bk-slider__button::after{content:"";height:100%;display:inline-block;vertical-align:middle}.bk-slider__button-inner{width:1em;height:1em;background-color:#ffffff;border-radius:50%;transition:0.2s;user-select:none;display:inline-block;vertical-align:middle}.bk-slider__tooltip-content{white-space:nowrap}.bk-slider.bk-slider--info .bk-slider__bar{background-color:#909399}.bk-slider.bk-slider--info .bk-slider__button-inner{border:2px solid #909399}.bk-slider.bk-slider--danger .bk-slider__bar{background-color:#f56c6c}.bk-slider.bk-slider--danger .bk-slider__button-inner{border:2px solid #f56c6c}.bk-slider.bk-slider--warning .bk-slider__bar{background-color:#e6a23c}.bk-slider.bk-slider--warning .bk-slider__button-inner{border:2px solid #e6a23c}.bk-slider.bk-slider--success .bk-slider__bar{background-color:#67c23a}.bk-slider.bk-slider--success .bk-slider__button-inner{border:2px solid #67c23a}.bk-slider.bk-slider--default .bk-slider__bar{background-color:#409eff}.bk-slider.bk-slider--default .bk-slider__button-inner{border:2px solid #409eff}.bk-slider:not(.bk-slider--disabled){pointer-events:all;opacity:1}.bk-slider:not(.bk-slider--disabled) .bk-slider__button{cursor:grab}.bk-slider:not(.bk-slider--disabled) .bk-slider__button:hover .bk-slider__button-inner,.bk-slider:not(.bk-slider--disabled) .bk-slider__button:active .bk-slider__button-inner{transform:scale(1.2)}.bk-slider--disabled .bk-slider__button{outline:none}';export{n as bk_slider}