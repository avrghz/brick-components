import{r as t,c as o,h as s,H as i,g as e}from"./p-6bd26c3b.js";import{l}from"./p-bd36860d.js";import{i as r,t as a,l as h}from"./p-86901810.js";import"./p-a7655182.js";const c=class{constructor(s){t(this,s),this.bkOpen=o(this,"bkOpen",3),this.bkOpened=o(this,"bkOpened",3),this.bkClose=o(this,"bkClose",3),this.bkClosed=o(this,"bkClosed",3),this.id=l.uniqueId(),this.uiState="close",this.open=!1,this.disabled=!1,this.animateIn=()=>{this.open&&"close"===this.uiState&&(this.animate(!0,()=>{this.uiState="open",this.bkOpened.emit()}),this.bkOpen.emit())},this.animateOut=()=>{this.open||"open"!==this.uiState||(this.animate(!1,()=>{this.uiState="close",this.bkClosed.emit()}),this.bkClose.emit())},this.animate=(t,o)=>{let s=!1,i=1;if(this.tabPanelRef){const e=r(this.tabPanelRef);this.subscription=a(Object.assign(Object.assign({},t?{from:0,to:1}:{from:1,to:0}),{duration:200,ease:h})).start({update:t=>{var o;s||(i=(null===(o=this.tabPanelRef)||void 0===o?void 0:o.clientHeight)||1,s=!0),e.set("opacity",t).set("position","relative").set("height",t*i)},complete:()=>{t&&e.set("height","auto"),o()}})}},this.onClickHandler=()=>this.open=!this.open,this.onKeydownHandler=t=>{"Enter"!==t.key&&" "!==t.key||(this.open=!this.open)}}componentDidLoad(){this.animateIn()}componentWillRender(){return new Promise(t=>{"open"!==this.uiState||this.open?t():setTimeout(t,200)})}async componentWillUpdate(){this.animateOut()}componentDidUpdate(){this.animateIn()}disconnectedCallback(){this.subscription&&this.subscription.stop()}render(){return s(i,{class:{"bk-collapse-item":!0,"is-active":this.open,"is-disabled":this.disabled}},s("div",{role:"tab","aria-expanded":this.open,"aria-controls":"bk-collapse-content-"+this.id,"aria-describedby":"bk-collapse-content-"+this.id},s("div",{role:"button",id:"bk-collapse-head-"+this.id,tabIndex:0,class:{"bk-collapse-item__header":!0,focusing:this.open},onClick:this.onClickHandler,onKeyDown:this.onKeydownHandler},s("slot",{name:"header"}),s("iron-icon",{icon:"chevron-right",class:"bk-collapse-item__arrow"}))),this.open&&s("div",{role:"tabpanel","aria-labelledby":"bk-collapse-head-"+this.id,id:"bk-collapse-content-"+this.id,class:"bk-collapse-item__wrap",ref:t=>this.tabPanelRef=t},s("div",{class:"bk-collapse-item__content"},s("slot",{name:"content"}))))}};c.style=":host{display:block}.bk-collapse-item__header{display:flex;align-items:center;height:48px;line-height:48px;color:var(--color-text-primary);cursor:pointer;border-bottom:1px solid var(--border-color-light);font-size:13px;font-weight:500;transition:border-bottom-color 0.3s;outline:none}.bk-collapse-item__arrow{margin:0 8px 0 auto;transition:transform 0.3s;width:20px}.bk-collapse-item__header:focus{color:var(--color-primary)}.bk-collapse-item__wrap{will-change:height;overflow:hidden;box-sizing:border-box;border-bottom:1px solid var(--border-color-light);opacity:0;position:absolute}.bk-collapse-item__content{padding-bottom:25px;font-size:13px;color:var(--color-text-primary);line-height:1.7692307692}.bk-collapse-item:last-child{margin-bottom:-1px}:host(.is-active) .bk-collapse-item__header{border-bottom-color:transparent}:host(.is-active) .bk-collapse-item__arrow{transform:rotate(90deg)}:host(.is-disabled){opacity:0.5;pointer-events:none}";const n=class{constructor(o){t(this,o),this.isAccordion=!0,this.getPanels=()=>this.el.querySelectorAll("bk-collapse"),this.registerEvent=(t=!0)=>{var o;null===(o=this.getPanels())||void 0===o||o.forEach(o=>{o[t?"addEventListener":"removeEventListener"]("bkOpen",this.onCollapseOpened)})},this.onCollapseOpened=t=>{var o;null===(o=this.getPanels())||void 0===o||o.forEach(o=>{t.target!==o&&o.setAttribute("open","false")})}}watchIsAccordion(){this.registerEvent(this.isAccordion)}componentWillLoad(){this.isAccordion&&this.registerEvent(!0)}disconnectedCallback(){this.registerEvent(!1)}render(){return s("slot",null)}get el(){return e(this)}static get watchers(){return{isAccordion:["watchIsAccordion"]}}};n.style="bk-collapse-group.sc-bk-collapse-group{display:block;border-top:1px solid var(--border-color-light)}";export{c as bk_collapse,n as bk_collapse_group};